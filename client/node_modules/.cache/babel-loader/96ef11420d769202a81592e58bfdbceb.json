{"ast":null,"code":"import _objectSpread from\"C:/Users/Pechenka/pixel-app-ts/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useContext}from\"react\";import classes from\"./Arts.module.css\";import artClasses from\"./Art/Art.module.css\";import Art from\"./Art/Art\";import{ArtsContext}from\"../../context/arts-context\";import{SettingsContext}from\"../../context/settings-context\";import createArt from\"../../hoc/createArt\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Arts=function Arts(props){var _ref=useContext(ArtsContext),arts=_ref.arts,artsDispatch=_ref.artsDispatch;var _useContext=useContext(SettingsContext),settings=_useContext.settings;var artClickedHandler=function artClickedHandler(id){return function(e){if(e.target.classList.contains(artClasses.Art))artsDispatch({type:\"SET_CHOSEN\",data:id});};};var onAddedArt=function onAddedArt(){var rows=createArt(settings);artsDispatch({type:\"ADD_ART\",data:{rows:rows,id:arts.arts.length}});};var onDeleteArt=function onDeleteArt(id){return function(){artsDispatch({type:\"DELETE_ART\",data:id});};};var onCopyArt=function onCopyArt(id){return function(){// const copiedArt = arts.arts.find(art => art.id === id);\nartsDispatch({type:\"COPY_ART\",data:id});};};return/*#__PURE__*/_jsxs(\"div\",{className:classes.Arts,children:[/*#__PURE__*/_jsx(\"button\",{className:classes.AddButton,onClick:onAddedArt,children:\"+\"}),/*#__PURE__*/_jsx(\"div\",{className:classes.Wrapper,children:arts.arts.map(function(art){return/*#__PURE__*/_jsx(Art,_objectSpread(_objectSpread({isChosen:arts.chosen===art.id,onCopyArt:onCopyArt(art.id),onDeleteArt:onDeleteArt(art.id)},art),{},{clicked:artClickedHandler(art.id)}),art.id);})})]});};export default Arts;","map":{"version":3,"sources":["C:/Users/Pechenka/pixel-app-ts/src/components/Arts/Arts.tsx"],"names":["useContext","classes","artClasses","Art","ArtsContext","SettingsContext","createArt","Arts","props","arts","artsDispatch","settings","artClickedHandler","id","e","target","classList","contains","type","data","onAddedArt","rows","length","onDeleteArt","onCopyArt","AddButton","Wrapper","map","art","chosen"],"mappings":"mHAAA,OAA4BA,UAA5B,KAA8C,OAA9C,CAEA,MAAOC,CAAAA,OAAP,KAAoB,mBAApB,CACA,MAAOC,CAAAA,UAAP,KAAuB,sBAAvB,CACA,MAAOC,CAAAA,GAAP,KAAgB,WAAhB,CAEA,OAASC,WAAT,KAA4B,4BAA5B,CACA,OAASC,eAAT,KAAgC,gCAAhC,CAEA,MAAOC,CAAAA,SAAP,KAAsB,qBAAtB,C,wFAIA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,CAACC,KAAD,CAAsB,CACjC,SAA+BR,UAAU,CAACI,WAAD,CAAzC,CAAQK,IAAR,MAAQA,IAAR,CAAcC,YAAd,MAAcA,YAAd,CACA,gBAAqBV,UAAU,CAACK,eAAD,CAA/B,CAAQM,QAAR,aAAQA,QAAR,CAEA,GAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACC,EAAD,CAAgB,CACxC,MAAQ,UAACC,CAAD,CAAO,CACb,GAAKA,CAAC,CAACC,MAAH,CAA0BC,SAA1B,CAAoCC,QAApC,CAA6Cf,UAAU,CAACC,GAAxD,CAAJ,CACEO,YAAY,CAAC,CAAEQ,IAAI,CAAE,YAAR,CAAsBC,IAAI,CAAEN,EAA5B,CAAD,CAAZ,CACH,CAHD,CAID,CALD,CAOA,GAAMO,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACvB,GAAMC,CAAAA,IAAI,CAAGf,SAAS,CAACK,QAAD,CAAtB,CACAD,YAAY,CAAC,CACXQ,IAAI,CAAE,SADK,CAEXC,IAAI,CAAE,CACJE,IAAI,CAAEA,IADF,CAEJR,EAAE,CAAEJ,IAAI,CAACA,IAAL,CAAUa,MAFV,CAFK,CAAD,CAAZ,CAOD,CATD,CAWA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACV,EAAD,QAAgB,WAAM,CACxCH,YAAY,CAAC,CAAEQ,IAAI,CAAE,YAAR,CAAsBC,IAAI,CAAEN,EAA5B,CAAD,CAAZ,CACD,CAFmB,EAApB,CAIA,GAAMW,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACX,EAAD,QAAgB,WAAM,CACtC;AACAH,YAAY,CAAC,CAAEQ,IAAI,CAAE,UAAR,CAAoBC,IAAI,CAAEN,EAA1B,CAAD,CAAZ,CACD,CAHiB,EAAlB,CAKA,mBACE,aAAK,SAAS,CAAEZ,OAAO,CAACM,IAAxB,wBACE,eAAQ,SAAS,CAAEN,OAAO,CAACwB,SAA3B,CAAsC,OAAO,CAAEL,UAA/C,eADF,cAIE,YAAK,SAAS,CAAEnB,OAAO,CAACyB,OAAxB,UACGjB,IAAI,CAACA,IAAL,CAAUkB,GAAV,CAAc,SAACC,GAAD,qBACb,KAAC,GAAD,8BACE,QAAQ,CAAEnB,IAAI,CAACoB,MAAL,GAAgBD,GAAG,CAACf,EADhC,CAEE,SAAS,CAAEW,SAAS,CAACI,GAAG,CAACf,EAAL,CAFtB,CAGE,WAAW,CAAEU,WAAW,CAACK,GAAG,CAACf,EAAL,CAH1B,EAKMe,GALN,MAME,OAAO,CAAEhB,iBAAiB,CAACgB,GAAG,CAACf,EAAL,CAN5B,GAIOe,GAAG,CAACf,EAJX,CADa,EAAd,CADH,EAJF,GADF,CAmBD,CAlDD,CAoDA,cAAeN,CAAAA,IAAf","sourcesContent":["import { MouseEventHandler, useContext } from \"react\";\r\n\r\nimport classes from \"./Arts.module.css\";\r\nimport artClasses from \"./Art/Art.module.css\";\r\nimport Art from \"./Art/Art\";\r\n\r\nimport { ArtsContext } from \"../../context/arts-context\";\r\nimport { SettingsContext } from \"../../context/settings-context\";\r\n\r\nimport createArt from \"../../hoc/createArt\";\r\n\r\ninterface ArtsProps {}\r\n\r\nconst Arts = (props: ArtsProps) => {\r\n  const { arts, artsDispatch } = useContext(ArtsContext)!;\r\n  const { settings } = useContext(SettingsContext);\r\n\r\n  const artClickedHandler = (id: number) => {\r\n    return ((e) => {\r\n      if ((e.target as HTMLElement).classList.contains(artClasses.Art))\r\n        artsDispatch({ type: \"SET_CHOSEN\", data: id });\r\n    }) as MouseEventHandler;\r\n  };\r\n\r\n  const onAddedArt = () => {\r\n    const rows = createArt(settings!);\r\n    artsDispatch({\r\n      type: \"ADD_ART\",\r\n      data: {\r\n        rows: rows,\r\n        id: arts.arts.length,\r\n      },\r\n    });\r\n  };\r\n\r\n  const onDeleteArt = (id: number) => () => {\r\n    artsDispatch({ type: \"DELETE_ART\", data: id });\r\n  };\r\n\r\n  const onCopyArt = (id: number) => () => {\r\n    // const copiedArt = arts.arts.find(art => art.id === id);\r\n    artsDispatch({ type: \"COPY_ART\", data: id });\r\n  };\r\n\r\n  return (\r\n    <div className={classes.Arts}>\r\n      <button className={classes.AddButton} onClick={onAddedArt}>\r\n        +\r\n      </button>\r\n      <div className={classes.Wrapper}>\r\n        {arts.arts.map((art) => (\r\n          <Art\r\n            isChosen={arts.chosen === art.id}\r\n            onCopyArt={onCopyArt(art.id)}\r\n            onDeleteArt={onDeleteArt(art.id)}\r\n            key={art.id}\r\n            {...art}\r\n            clicked={artClickedHandler(art.id)}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Arts;\r\n"]},"metadata":{},"sourceType":"module"}