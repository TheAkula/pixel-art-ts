{"ast":null,"code":"import _objectSpread from\"C:/Users/Pechenka/pixel-app-ts/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useContext}from\"react\";import classes from\"./Arts.module.css\";import artClasses from\"./Art/Art.module.css\";import Art from\"./Art/Art\";import{ArtsContext}from\"../../context/arts-context\";import createArt from\"../../hoc/createArt\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Arts=function Arts(){var _ref=useContext(ArtsContext),artsState=_ref.artsState,artsDispatch=_ref.artsDispatch;var artClickedHandler=function artClickedHandler(id){return function(e){var target=e.target;if(target.closest(\".\"+artClasses.Art)&&!target.closest(\"button\")){artsDispatch({type:\"SET_CHOSEN\",data:id});}};};var onAddedArt=function onAddedArt(){var rows=createArt(artsState.settings);artsDispatch({type:\"ADD_ART\",data:{rows:rows,id:artsState.arts.length}});};var onDeleteArt=function onDeleteArt(id){return function(){artsDispatch({type:\"DELETE_ART\",data:id});};};var onCopyArt=function onCopyArt(id){return function(){artsDispatch({type:\"COPY_ART\",data:id});};};return/*#__PURE__*/_jsxs(\"div\",{className:classes.Arts,children:[/*#__PURE__*/_jsx(\"button\",{className:classes.AddButton,onClick:onAddedArt,children:\"+\"}),/*#__PURE__*/_jsx(\"div\",{className:classes.Wrapper,children:artsState.arts.map(function(art){return/*#__PURE__*/_jsx(Art,_objectSpread(_objectSpread({isChosen:artsState.chosen===art.id,onCopyArt:onCopyArt(art.id),onDeleteArt:onDeleteArt(art.id)},art),{},{clicked:artClickedHandler(art.id),defColor:artsState.settings.defColor}),art.id);})})]});};export default Arts;","map":{"version":3,"sources":["C:/Users/Pechenka/pixel-app-ts/client/src/components/Arts/Arts.tsx"],"names":["useContext","classes","artClasses","Art","ArtsContext","createArt","Arts","artsState","artsDispatch","artClickedHandler","id","e","target","closest","type","data","onAddedArt","rows","settings","arts","length","onDeleteArt","onCopyArt","AddButton","Wrapper","map","art","chosen","defColor"],"mappings":"0HAAA,OAA4BA,UAA5B,KAA8C,OAA9C,CAEA,MAAOC,CAAAA,OAAP,KAAoB,mBAApB,CACA,MAAOC,CAAAA,UAAP,KAAuB,sBAAvB,CACA,MAAOC,CAAAA,GAAP,KAAgB,WAAhB,CAEA,OAASC,WAAT,KAA4B,4BAA5B,CAEA,MAAOC,CAAAA,SAAP,KAAsB,qBAAtB,C,wFAEA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,EAAM,CACjB,SAAoCN,UAAU,CAACI,WAAD,CAA9C,CAAQG,SAAR,MAAQA,SAAR,CAAmBC,YAAnB,MAAmBA,YAAnB,CAEA,GAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACC,EAAD,CAAgB,CACxC,MAAQ,UAACC,CAAD,CAAO,CACb,GAAMC,CAAAA,MAAM,CAAGD,CAAC,CAACC,MAAjB,CACA,GAAIA,MAAM,CAACC,OAAP,CAAe,IAAMX,UAAU,CAACC,GAAhC,GAAwC,CAACS,MAAM,CAACC,OAAP,CAAe,QAAf,CAA7C,CAAuE,CACrEL,YAAY,CAAC,CAAEM,IAAI,CAAE,YAAR,CAAsBC,IAAI,CAAEL,EAA5B,CAAD,CAAZ,CACD,CACF,CALD,CAMD,CAPD,CASA,GAAMM,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACvB,GAAMC,CAAAA,IAAI,CAAGZ,SAAS,CAACE,SAAS,CAACW,QAAX,CAAtB,CACAV,YAAY,CAAC,CACXM,IAAI,CAAE,SADK,CAEXC,IAAI,CAAE,CACJE,IAAI,CAAEA,IADF,CAEJP,EAAE,CAAEH,SAAS,CAACY,IAAV,CAAeC,MAFf,CAFK,CAAD,CAAZ,CAOD,CATD,CAWA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACX,EAAD,QAAgB,WAAM,CACxCF,YAAY,CAAC,CAAEM,IAAI,CAAE,YAAR,CAAsBC,IAAI,CAAEL,EAA5B,CAAD,CAAZ,CACD,CAFmB,EAApB,CAIA,GAAMY,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACZ,EAAD,QAAgB,WAAM,CACtCF,YAAY,CAAC,CAAEM,IAAI,CAAE,UAAR,CAAoBC,IAAI,CAAEL,EAA1B,CAAD,CAAZ,CACD,CAFiB,EAAlB,CAIA,mBACE,aAAK,SAAS,CAAET,OAAO,CAACK,IAAxB,wBACE,eAAQ,SAAS,CAAEL,OAAO,CAACsB,SAA3B,CAAsC,OAAO,CAAEP,UAA/C,eADF,cAIE,YAAK,SAAS,CAAEf,OAAO,CAACuB,OAAxB,UACGjB,SAAS,CAACY,IAAV,CAAeM,GAAf,CAAmB,SAACC,GAAD,qBAClB,KAAC,GAAD,8BACE,QAAQ,CAAEnB,SAAS,CAACoB,MAAV,GAAqBD,GAAG,CAAChB,EADrC,CAEE,SAAS,CAAEY,SAAS,CAACI,GAAG,CAAChB,EAAL,CAFtB,CAGE,WAAW,CAAEW,WAAW,CAACK,GAAG,CAAChB,EAAL,CAH1B,EAKMgB,GALN,MAME,OAAO,CAAEjB,iBAAiB,CAACiB,GAAG,CAAChB,EAAL,CAN5B,CAOE,QAAQ,CAAEH,SAAS,CAACW,QAAV,CAAmBU,QAP/B,GAIOF,GAAG,CAAChB,EAJX,CADkB,EAAnB,CADH,EAJF,GADF,CAoBD,CAnDD,CAqDA,cAAeJ,CAAAA,IAAf","sourcesContent":["import { MouseEventHandler, useContext } from \"react\";\r\n\r\nimport classes from \"./Arts.module.css\";\r\nimport artClasses from \"./Art/Art.module.css\";\r\nimport Art from \"./Art/Art\";\r\n\r\nimport { ArtsContext } from \"../../context/arts-context\";\r\n\r\nimport createArt from \"../../hoc/createArt\";\r\n\r\nconst Arts = () => {\r\n  const { artsState, artsDispatch } = useContext(ArtsContext)!;\r\n\r\n  const artClickedHandler = (id: number) => {\r\n    return ((e) => {\r\n      const target = e.target as HTMLElement;\r\n      if (target.closest(\".\" + artClasses.Art) && !target.closest(\"button\")) {\r\n        artsDispatch({ type: \"SET_CHOSEN\", data: id });\r\n      }\r\n    }) as MouseEventHandler;\r\n  };\r\n\r\n  const onAddedArt = () => {\r\n    const rows = createArt(artsState.settings!);\r\n    artsDispatch({\r\n      type: \"ADD_ART\",\r\n      data: {\r\n        rows: rows,\r\n        id: artsState.arts.length,\r\n      },\r\n    });\r\n  };\r\n\r\n  const onDeleteArt = (id: number) => () => {\r\n    artsDispatch({ type: \"DELETE_ART\", data: id });\r\n  };\r\n\r\n  const onCopyArt = (id: number) => () => {\r\n    artsDispatch({ type: \"COPY_ART\", data: id });\r\n  };\r\n\r\n  return (\r\n    <div className={classes.Arts}>\r\n      <button className={classes.AddButton} onClick={onAddedArt}>\r\n        +\r\n      </button>\r\n      <div className={classes.Wrapper}>\r\n        {artsState.arts.map((art) => (\r\n          <Art\r\n            isChosen={artsState.chosen === art.id}\r\n            onCopyArt={onCopyArt(art.id)}\r\n            onDeleteArt={onDeleteArt(art.id)}\r\n            key={art.id}\r\n            {...art}\r\n            clicked={artClickedHandler(art.id)}\r\n            defColor={artsState.settings.defColor}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Arts;\r\n"]},"metadata":{},"sourceType":"module"}