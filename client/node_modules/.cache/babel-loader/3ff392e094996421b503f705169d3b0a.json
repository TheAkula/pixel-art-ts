{"ast":null,"code":"import _slicedToArray from\"C:/Users/Pechenka/pixel-app-ts/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useContext,useRef,useState,useEffect}from\"react\";import axios from\"axios\";import{ArtsContext}from\"../../context/arts-context\";import Button from\"../UI/Button/Button\";import Modal from\"../UI/Modal/Modal\";import classes from\"./UploadImage.module.css\";import SizeToggle from\"../SettingsBar/SizeToggle/SizeToggle\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var UploadImage=function UploadImage(){var _ref=useContext(ArtsContext),artsState=_ref.artsState,artsDispatch=_ref.artsDispatch;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showModal=_useState2[0],setShowModal=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isSelected=_useState4[0],setIsSelected=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),file=_useState6[0],setFile=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),imgIsValid=_useState8[0],setImgIsValid=_useState8[1];var _useState9=useState(1),_useState10=_slicedToArray(_useState9,2),newPixelSize=_useState10[0],setNewPixelSize=_useState10[1];var _useState11=useState({a:0,b:0}),_useState12=_slicedToArray(_useState11,2),origSize=_useState12[0],setOrigSize=_useState12[1];var _useState13=useState({a:0,b:0}),_useState14=_slicedToArray(_useState13,2),frameSize=_useState14[0],setFrameSize=_useState14[1];var fileInpRef=useRef(null);var imgRef=useRef(null);useEffect(function(){if(showModal)document.body.style.overflow=\"hidden\";else document.body.style.overflow=\"auto\";},[showModal]);var onSubmitHandler=function onSubmitHandler(e){e.preventDefault();var formData=new FormData(e.target);axios({method:\"post\",url:\"/upl-img\",data:formData,headers:{\"Content-Type\":\"multipart/form-data\"}}).then(function(data){onCloseModal();artsDispatch({type:\"ADD_ART\",data:{id:artsState.arts.length,rows:data.data}});artsDispatch({type:\"SET_PS\",data:newPixelSize});}).catch(function(err){});};var onShowModal=function onShowModal(){setShowModal(true);};var onCloseModal=function onCloseModal(){setShowModal(false);setIsSelected(false);setFile(null);};var onBrowseImg=function onBrowseImg(){fileInpRef.current.click();setIsSelected(true);};var validateSize=function validateSize(s){var _imgRef$current,_imgRef$current2;var width=(_imgRef$current=imgRef.current)===null||_imgRef$current===void 0?void 0:_imgRef$current.offsetWidth;var height=(_imgRef$current2=imgRef.current)===null||_imgRef$current2===void 0?void 0:_imgRef$current2.offsetHeight;var frameWidth=width/s;var frameHeight=height/s;var valid=true;valid=valid&&width%s===0;valid=valid&&height%s===0;setFrameSize({a:frameWidth,b:frameHeight});setImgIsValid(valid);};var onChosedFile=function onChosedFile(){setFile(window.URL.createObjectURL(fileInpRef.current.files[0]));setOrigSize({a:0,b:0});setFrameSize({a:0,b:0});};var onAddPixelSize=function onAddPixelSize(){setNewPixelSize(function(prevPixelSize){return prevPixelSize+1;});validateSize(newPixelSize+1);};var onSubPixelSize=function onSubPixelSize(){setNewPixelSize(function(prevPixelSize){return prevPixelSize-1||1;});validateSize(newPixelSize-1||1);};var imgOnLoad=function imgOnLoad(e){if(!origSize.a||!origSize.b){setOrigSize({a:e.target.width,b:e.target.height});validateSize(newPixelSize);}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Button,{type:\"button\",clicked:onShowModal,children:\"LOAD\"}),showModal&&/*#__PURE__*/_jsxs(Modal,{closed:onCloseModal,children:[/*#__PURE__*/_jsx(\"button\",{onClick:onBrowseImg,className:classes.BrowseButton,children:\"BROWSE...\"}),/*#__PURE__*/_jsxs(\"form\",{action:\"/upl-img\",method:\"post\",encType:\"multipart/form-data\",onSubmit:onSubmitHandler,children:[/*#__PURE__*/_jsx(\"input\",{onChange:onChosedFile,type:\"file\",name:\"img\",style:{display:\"none\"},ref:fileInpRef}),isSelected&&file?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:classes.ImgContainer,children:/*#__PURE__*/_jsx(\"img\",{src:file,onLoad:imgOnLoad,alt:\"\",ref:imgRef})}),/*#__PURE__*/_jsxs(\"div\",{className:classes.LoadPlace,children:[/*#__PURE__*/_jsxs(\"p\",{style:{textAlign:\"center\",marginBottom:\"10px\"},children:[\"Original: \",origSize.a,\" x \",origSize.b]}),/*#__PURE__*/_jsxs(\"p\",{style:{textAlign:\"center\",marginBottom:\"10px\"},children:[\"Frame Size:\",\" \",/*#__PURE__*/_jsx(\"span\",{style:{color:imgIsValid?\"#000\":\"red\"},children:frameSize.a}),\" \",\"x\",\" \",/*#__PURE__*/_jsx(\"span\",{style:{color:imgIsValid?\"#000\":\"red\"},children:frameSize.b})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.Togglers,children:/*#__PURE__*/_jsxs(\"div\",{className:classes.Toggler,children:[/*#__PURE__*/_jsx(\"p\",{children:\"Pixel Size\"}),/*#__PURE__*/_jsx(SizeToggle,{del:onSubPixelSize,add:onAddPixelSize,cur:newPixelSize})]})})]}),/*#__PURE__*/_jsx(\"button\",{disabled:!imgIsValid,type:\"submit\",className:classes.UploadButton,children:\"UPLOAD\"}),/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",name:\"ps\",value:newPixelSize}),/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",value:artsState.settings.defColor,name:\"dc\"})]}):null]})]})]});};export default UploadImage;","map":{"version":3,"sources":["C:/Users/Pechenka/pixel-app-ts/client/src/components/UploadImage/UploadImage.tsx"],"names":["useContext","useRef","useState","useEffect","axios","ArtsContext","Button","Modal","classes","SizeToggle","UploadImage","artsState","artsDispatch","showModal","setShowModal","isSelected","setIsSelected","file","setFile","imgIsValid","setImgIsValid","newPixelSize","setNewPixelSize","a","b","origSize","setOrigSize","frameSize","setFrameSize","fileInpRef","imgRef","document","body","style","overflow","onSubmitHandler","e","preventDefault","formData","FormData","target","method","url","data","headers","then","onCloseModal","type","id","arts","length","rows","catch","err","onShowModal","onBrowseImg","current","click","validateSize","s","width","offsetWidth","height","offsetHeight","frameWidth","frameHeight","valid","onChosedFile","window","URL","createObjectURL","files","onAddPixelSize","prevPixelSize","onSubPixelSize","imgOnLoad","BrowseButton","display","ImgContainer","LoadPlace","textAlign","marginBottom","color","Togglers","Toggler","UploadButton","settings","defColor"],"mappings":"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","sourcesContent":["import {\r\n  FormEventHandler,\r\n  MouseEventHandler,\r\n  useContext,\r\n  useRef,\r\n  useState,\r\n  useEffect,\r\n} from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport { ArtsContext } from \"../../context/arts-context\";\r\nimport Button from \"../UI/Button/Button\";\r\nimport Modal from \"../UI/Modal/Modal\";\r\nimport classes from \"./UploadImage.module.css\";\r\nimport SizeToggle from \"../SettingsBar/SizeToggle/SizeToggle\";\r\n\r\nconst UploadImage = () => {\r\n  const { artsState, artsDispatch } = useContext(ArtsContext)!;\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [isSelected, setIsSelected] = useState(false);\r\n  const [file, setFile] = useState<null | string>(null);\r\n  const [imgIsValid, setImgIsValid] = useState(false);\r\n  const [newPixelSize, setNewPixelSize] = useState(1);\r\n  const [origSize, setOrigSize] = useState({ a: 0, b: 0 });\r\n  const [frameSize, setFrameSize] = useState({ a: 0, b: 0 });\r\n  const fileInpRef = useRef<null | HTMLInputElement>(null);\r\n  const imgRef = useRef<null | HTMLImageElement>(null);\r\n\r\n  useEffect(() => {\r\n    if (showModal) document.body.style.overflow = \"hidden\";\r\n    else document.body.style.overflow = \"auto\";\r\n  }, [showModal]);\r\n\r\n  const onSubmitHandler: FormEventHandler = (e) => {\r\n    e.preventDefault();\r\n    const formData = new FormData(e.target as HTMLFormElement);\r\n    axios({\r\n      method: \"post\",\r\n      url: \"/upl-img\",\r\n      data: formData,\r\n      headers: { \"Content-Type\": \"multipart/form-data\" },\r\n    })\r\n      .then((data) => {\r\n        onCloseModal();\r\n        artsDispatch({\r\n          type: \"ADD_ART\",\r\n          data: { id: artsState.arts.length, rows: data.data },\r\n        });\r\n        artsDispatch({ type: \"SET_PS\", data: newPixelSize });\r\n      })\r\n      .catch((err) => {});\r\n  };\r\n\r\n  const onShowModal = () => {\r\n    setShowModal(true);\r\n  };\r\n\r\n  const onCloseModal = () => {\r\n    setShowModal(false);\r\n    setIsSelected(false);\r\n    setFile(null);\r\n  };\r\n\r\n  const onBrowseImg = () => {\r\n    fileInpRef.current!.click();\r\n    setIsSelected(true);\r\n  };\r\n\r\n  const validateSize = (s: number) => {\r\n    const width = imgRef.current?.offsetWidth!;\r\n    const height = imgRef.current?.offsetHeight!;\r\n    const frameWidth = width / s;\r\n    const frameHeight = height / s;\r\n    let valid = true;\r\n    valid = valid && width % s === 0;\r\n    valid = valid && height % s === 0;\r\n    setFrameSize({ a: frameWidth, b: frameHeight });\r\n    setImgIsValid(valid);\r\n  };\r\n\r\n  const onChosedFile = () => {\r\n    setFile(window.URL.createObjectURL(fileInpRef.current!.files![0]));\r\n    setOrigSize({ a: 0, b: 0 });\r\n    setFrameSize({ a: 0, b: 0 });\r\n  };\r\n\r\n  const onAddPixelSize: MouseEventHandler = () => {\r\n    setNewPixelSize((prevPixelSize) => prevPixelSize + 1);\r\n    validateSize(newPixelSize + 1);\r\n  };\r\n\r\n  const onSubPixelSize: MouseEventHandler = () => {\r\n    setNewPixelSize((prevPixelSize) => prevPixelSize - 1 || 1);\r\n    validateSize(newPixelSize - 1 || 1);\r\n  };\r\n\r\n  const imgOnLoad: React.ReactEventHandler<HTMLImageElement> = (e) => {\r\n    if (!origSize.a || !origSize.b) {\r\n      setOrigSize({\r\n        a: (e.target as HTMLImageElement).width,\r\n        b: (e.target as HTMLImageElement).height,\r\n      });\r\n      validateSize(newPixelSize);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Button type=\"button\" clicked={onShowModal}>\r\n        LOAD\r\n      </Button>\r\n      {showModal && (\r\n        <Modal closed={onCloseModal}>\r\n          <button onClick={onBrowseImg} className={classes.BrowseButton}>\r\n            BROWSE...\r\n          </button>\r\n\r\n          <form\r\n            action=\"/upl-img\"\r\n            method=\"post\"\r\n            encType=\"multipart/form-data\"\r\n            onSubmit={onSubmitHandler}\r\n          >\r\n            <input\r\n              onChange={onChosedFile}\r\n              type=\"file\"\r\n              name=\"img\"\r\n              style={{ display: \"none\" }}\r\n              ref={fileInpRef}\r\n            />\r\n            {isSelected && file ? (\r\n              <>\r\n                <div className={classes.ImgContainer}>\r\n                  <img src={file} onLoad={imgOnLoad} alt=\"\" ref={imgRef} />\r\n                </div>\r\n                <div className={classes.LoadPlace}>\r\n                  <p style={{ textAlign: \"center\", marginBottom: \"10px\" }}>\r\n                    Original: {origSize.a} x {origSize.b}\r\n                  </p>\r\n                  <p style={{ textAlign: \"center\", marginBottom: \"10px\" }}>\r\n                    Frame Size:{\" \"}\r\n                    <span style={{ color: imgIsValid ? \"#000\" : \"red\" }}>\r\n                      {frameSize.a}\r\n                    </span>{\" \"}\r\n                    x{\" \"}\r\n                    <span style={{ color: imgIsValid ? \"#000\" : \"red\" }}>\r\n                      {frameSize.b}\r\n                    </span>\r\n                  </p>\r\n                  <div className={classes.Togglers}>\r\n                    <div className={classes.Toggler}>\r\n                      <p>Pixel Size</p>\r\n                      <SizeToggle\r\n                        del={onSubPixelSize}\r\n                        add={onAddPixelSize}\r\n                        cur={newPixelSize}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <button\r\n                  disabled={!imgIsValid}\r\n                  type=\"submit\"\r\n                  className={classes.UploadButton}\r\n                >\r\n                  UPLOAD\r\n                </button>\r\n                <input type=\"hidden\" name=\"ps\" value={newPixelSize} />\r\n                <input\r\n                  type=\"hidden\"\r\n                  value={artsState.settings.defColor}\r\n                  name=\"dc\"\r\n                />\r\n              </>\r\n            ) : null}\r\n          </form>\r\n        </Modal>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UploadImage;\r\n"]},"metadata":{},"sourceType":"module"}