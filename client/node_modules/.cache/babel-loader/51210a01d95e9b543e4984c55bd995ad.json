{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Pechenka\\\\pixel-app-ts\\\\client\\\\src\\\\components\\\\SettingsBar\\\\SettingsBar.tsx\",\n    _s = $RefreshSig$();\n\nimport { useContext, useState } from \"react\";\nimport { ArtsContext } from \"../../context/arts-context\";\nimport SizeToggle from \"./SizeToggle/SizeToggle\";\nimport Reset from \"./Reset/Reset\";\nimport PreviewAnimation from \"./PreviewAnimation/PreviewAnimation\";\nimport createArt from \"../../hoc/createArt\";\nimport Duration from \"./Duration/Duration\";\nimport PixelSize from \"./PixelSize/PixelSize\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SettingsBar = () => {\n  _s();\n\n  const [duration, setDuration] = useState(1);\n  const {\n    artsState,\n    artsDispatch\n  } = useContext(ArtsContext);\n\n  const onAddRow = e => {\n    const row = [];\n\n    for (let i = 0; i < artsState.settings.columnSize; i++) {\n      row.push({\n        xpos: i,\n        ypos: artsState.settings.rowSize,\n        color: artsState.settings.defColor\n      });\n    }\n\n    artsDispatch({\n      type: \"ADD_ROW\",\n      data: row\n    });\n  };\n\n  const onDelRow = e => {\n    artsDispatch({\n      type: \"DEL_ROW\"\n    });\n  };\n\n  const onAddCol = e => {\n    artsDispatch({\n      type: \"ADD_COL\",\n      data: {\n        x: artsState.settings.columnSize,\n        color: artsState.settings.defColor\n      }\n    });\n  };\n\n  const onDelCol = e => {\n    artsDispatch({\n      type: \"DEL_COL\"\n    });\n  };\n\n  const resetHandler = () => {\n    const artRows = createArt(artsState.settings);\n    artsDispatch({\n      type: \"UPD_ART\",\n      artId: artsState.chosen,\n      data: {\n        rows: artRows,\n        id: artsState.chosen\n      }\n    });\n  };\n\n  const durationChangedHandler = e => {\n    setDuration(+e.target.value);\n  };\n\n  const pixelSizeChangedHandler = e => {\n    artsDispatch({\n      type: \"SET_PS\",\n      data: +e.target.value\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(PreviewAnimation, {\n      duration: duration\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"flex-end\",\n        gap: \"10px\",\n        margin: \"10px 0\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(SizeToggle, {\n        cur: artsState.settings.rowSize,\n        img: \"\\u2195\",\n        add: onAddRow,\n        del: onDelRow\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SizeToggle, {\n        cur: artsState.settings.columnSize,\n        img: \"\\u2194\",\n        add: onAddCol,\n        del: onDelCol\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"center\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Reset, {\n        clicked: resetHandler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Duration, {\n      curDur: duration,\n      changed: durationChangedHandler\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PixelSize, {\n      curPS: artsState.settings.pixelSize,\n      changed: pixelSizeChangedHandler\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SettingsBar, \"Y55DTj39hqOGn9oFxqoPdii4rug=\");\n\n_c = SettingsBar;\nexport default SettingsBar;\n\nvar _c;\n\n$RefreshReg$(_c, \"SettingsBar\");","map":{"version":3,"sources":["C:/Users/Pechenka/pixel-app-ts/client/src/components/SettingsBar/SettingsBar.tsx"],"names":["useContext","useState","ArtsContext","SizeToggle","Reset","PreviewAnimation","createArt","Duration","PixelSize","SettingsBar","duration","setDuration","artsState","artsDispatch","onAddRow","e","row","i","settings","columnSize","push","xpos","ypos","rowSize","color","defColor","type","data","onDelRow","onAddCol","x","onDelCol","resetHandler","artRows","artId","chosen","rows","id","durationChangedHandler","target","value","pixelSizeChangedHandler","display","flexDirection","alignItems","gap","margin","justifyContent","pixelSize"],"mappings":"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","sourcesContent":["import {\r\n  ChangeEventHandler,\r\n  MouseEventHandler,\r\n  useContext,\r\n  useState,\r\n} from \"react\";\r\nimport { ArtsContext } from \"../../context/arts-context\";\r\n\r\nimport SizeToggle from \"./SizeToggle/SizeToggle\";\r\nimport Reset from \"./Reset/Reset\";\r\nimport PreviewAnimation from \"./PreviewAnimation/PreviewAnimation\";\r\nimport createArt from \"../../hoc/createArt\";\r\nimport Duration from \"./Duration/Duration\";\r\nimport PixelSize from \"./PixelSize/PixelSize\";\r\n\r\nconst SettingsBar = () => {\r\n  const [duration, setDuration] = useState<number | string>(1);\r\n  const { artsState, artsDispatch } = useContext(ArtsContext)!;\r\n\r\n  const onAddRow: MouseEventHandler = (e) => {\r\n    const row = [];\r\n    for (let i = 0; i < artsState.settings!.columnSize; i++) {\r\n      row.push({\r\n        xpos: i,\r\n        ypos: artsState.settings!.rowSize,\r\n        color: artsState.settings!.defColor,\r\n      });\r\n    }\r\n    artsDispatch({ type: \"ADD_ROW\", data: row });\r\n  };\r\n\r\n  const onDelRow: MouseEventHandler = (e) => {\r\n    artsDispatch({ type: \"DEL_ROW\" });\r\n  };\r\n\r\n  const onAddCol: MouseEventHandler = (e) => {\r\n    artsDispatch({\r\n      type: \"ADD_COL\",\r\n      data: {\r\n        x: artsState.settings!.columnSize,\r\n        color: artsState.settings!.defColor,\r\n      },\r\n    });\r\n  };\r\n\r\n  const onDelCol: MouseEventHandler = (e) => {\r\n    artsDispatch({ type: \"DEL_COL\" });\r\n  };\r\n\r\n  const resetHandler = () => {\r\n    const artRows = createArt(artsState.settings!);\r\n    artsDispatch({\r\n      type: \"UPD_ART\",\r\n      artId: artsState.chosen!,\r\n      data: { rows: artRows, id: artsState!.chosen },\r\n    });\r\n  };\r\n\r\n  const durationChangedHandler: ChangeEventHandler = (e) => {\r\n    setDuration(+(e.target as HTMLInputElement).value);\r\n  };\r\n\r\n  const pixelSizeChangedHandler: ChangeEventHandler = (e) => {\r\n    artsDispatch({\r\n      type: \"SET_PS\",\r\n      data: +(e.target as HTMLInputElement).value,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <PreviewAnimation duration={duration} />\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          alignItems: \"flex-end\",\r\n          gap: \"10px\",\r\n          margin: \"10px 0\",\r\n        }}\r\n      >\r\n        <SizeToggle\r\n          cur={artsState.settings!.rowSize}\r\n          img=\"&#8597;\"\r\n          add={onAddRow}\r\n          del={onDelRow}\r\n        />\r\n        <SizeToggle\r\n          cur={artsState.settings!.columnSize}\r\n          img=\"&#8596;\"\r\n          add={onAddCol}\r\n          del={onDelCol}\r\n        />\r\n      </div>\r\n      <div style={{ display: \"flex\", justifyContent: \"center\" }}>\r\n        <Reset clicked={resetHandler} />\r\n      </div>\r\n      <Duration curDur={duration} changed={durationChangedHandler} />\r\n      <PixelSize\r\n        curPS={artsState.settings.pixelSize}\r\n        changed={pixelSizeChangedHandler}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SettingsBar;\r\n"]},"metadata":{},"sourceType":"module"}