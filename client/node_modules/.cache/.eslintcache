[{"C:\\Users\\Pechenka\\pixel-app-ts\\client\\src\\index.tsx":"1","C:\\Users\\Pechenka\\pixel-app-ts\\client\\src\\App.tsx":"2","C:\\Users\\Pechenka\\pixel-app-ts\\client\\src\\context\\arts-context.tsx":"3","C:\\Users\\Pechenka\\pixel-app-ts\\client\\src\\components\\Main\\Main.tsx":"4","C:\\Users\\Pechenka\\pixel-app-ts\\client\\src\\components\\SettingsBar\\SettingsBar.tsx":"5","C:\\Users\\Pechenka\\pixel-app-ts\\client\\src\\components\\Arts\\Arts.tsx":"6","C:\\Users\\Pechenka\\pixel-app-ts\\client\\src\\components\\Board\\Board.tsx":"7","C:\\Users\\Pechenka\\pixel-app-ts\\client\\src\\components\\ColorsPanel\\ColorsPanel.tsx":"8","C:\\Users\\Pechenka\\pixel-app-ts\\client\\src\\components\\ToolsBar\\ToolsBar.tsx":"9","C:\\Users\\Pechenka\\pixel-app-ts\\client\\src\\hoc\\createArt.ts":"10","C:\\Users\\Pechenka\\pixel-app-ts\\client\\src\\components\\Arts\\Art\\Art.tsx":"11","C:\\Users\\Pechenka\\pixel-app-ts\\client\\src\\components\\SettingsBar\\SizeToggle\\SizeToggle.tsx":"12","C:\\Users\\Pechenka\\pixel-app-ts\\client\\src\\components\\SettingsBar\\Reset\\Reset.tsx":"13","C:\\Users\\Pechenka\\pixel-app-ts\\client\\src\\components\\SettingsBar\\PreviewAnimation\\PreviewAnimation.tsx":"14","C:\\Users\\Pechenka\\pixel-app-ts\\client\\src\\components\\ColorsPanel\\ColorPick\\ColorPick.tsx":"15","C:\\Users\\Pechenka\\pixel-app-ts\\client\\src\\components\\Board\\Pixel\\Pixel.tsx":"16","C:\\Users\\Pechenka\\pixel-app-ts\\client\\src\\components\\SimplePixel\\SimplePixel.tsx":"17","C:\\Users\\Pechenka\\pixel-app-ts\\client\\src\\components\\SaveImage\\SaveImage.tsx":"18","C:\\Users\\Pechenka\\pixel-app-ts\\client\\src\\components\\HistoryTriggers\\HistoryTriggers.tsx":"19","C:\\Users\\Pechenka\\pixel-app-ts\\client\\src\\components\\HistoryTriggers\\HistoryTrigger\\HistoryTrigger.tsx":"20","C:\\Users\\Pechenka\\pixel-app-ts\\client\\src\\components\\UploadImage\\UploadImage.tsx":"21","C:\\Users\\Pechenka\\pixel-app-ts\\client\\src\\components\\UI\\Modal\\Modal.tsx":"22","C:\\Users\\Pechenka\\pixel-app-ts\\client\\src\\components\\UI\\Button\\Button.tsx":"23","C:\\Users\\Pechenka\\pixel-app-ts\\client\\src\\components\\ToolsBar\\Tool\\Tool.tsx":"24","C:\\Users\\Pechenka\\pixel-app-ts\\client\\src\\components\\SettingsBar\\Duration\\Duration.tsx":"25","C:\\Users\\Pechenka\\pixel-app-ts\\client\\src\\components\\SettingsBar\\PixelSize\\PixelSize.tsx":"26"},{"size":333,"mtime":1646659545540,"results":"27","hashOfConfig":"28"},{"size":103,"mtime":1647107079527,"results":"29","hashOfConfig":"28"},{"size":11390,"mtime":1647107728774,"results":"30","hashOfConfig":"28"},{"size":1289,"mtime":1647155444728,"results":"31","hashOfConfig":"28"},{"size":2857,"mtime":1647105039921,"results":"32","hashOfConfig":"28"},{"size":1731,"mtime":1647107742135,"results":"33","hashOfConfig":"28"},{"size":6698,"mtime":1647107708044,"results":"34","hashOfConfig":"28"},{"size":878,"mtime":1647066669389,"results":"35","hashOfConfig":"28"},{"size":2116,"mtime":1647067803533,"results":"36","hashOfConfig":"28"},{"size":449,"mtime":1645701058425,"results":"37","hashOfConfig":"28"},{"size":2309,"mtime":1647010381280,"results":"38","hashOfConfig":"28"},{"size":1065,"mtime":1647103840774,"results":"39","hashOfConfig":"28"},{"size":366,"mtime":1647107786938,"results":"40","hashOfConfig":"28"},{"size":3720,"mtime":1647105048321,"results":"41","hashOfConfig":"28"},{"size":499,"mtime":1647066576728,"results":"42","hashOfConfig":"28"},{"size":824,"mtime":1647105655226,"results":"43","hashOfConfig":"28"},{"size":356,"mtime":1645779365493,"results":"44","hashOfConfig":"28"},{"size":2937,"mtime":1647173987709,"results":"45","hashOfConfig":"28"},{"size":879,"mtime":1647107189512,"results":"46","hashOfConfig":"28"},{"size":385,"mtime":1647066197090,"results":"47","hashOfConfig":"28"},{"size":5818,"mtime":1647166118464,"results":"48","hashOfConfig":"28"},{"size":510,"mtime":1647102381751,"results":"49","hashOfConfig":"28"},{"size":410,"mtime":1647014549642,"results":"50","hashOfConfig":"28"},{"size":309,"mtime":1647068447952,"results":"51","hashOfConfig":"28"},{"size":451,"mtime":1647104907159,"results":"52","hashOfConfig":"28"},{"size":457,"mtime":1647105123155,"results":"53","hashOfConfig":"28"},{"filePath":"54","messages":"55","suppressedMessages":"56","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},"ji1qiy",{"filePath":"58","messages":"59","suppressedMessages":"60","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"61","messages":"62","suppressedMessages":"63","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},{"filePath":"65","messages":"66","suppressedMessages":"67","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"68","messages":"69","suppressedMessages":"70","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"71","messages":"72","suppressedMessages":"73","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},{"filePath":"74","messages":"75","suppressedMessages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},{"filePath":"77","messages":"78","suppressedMessages":"79","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"80","messages":"81","suppressedMessages":"82","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"83","messages":"84","suppressedMessages":"85","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"86","messages":"87","suppressedMessages":"88","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"89","messages":"90","suppressedMessages":"91","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"92","messages":"93","suppressedMessages":"94","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},{"filePath":"95","messages":"96","suppressedMessages":"97","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"98","messages":"99","suppressedMessages":"100","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"101","messages":"102","suppressedMessages":"103","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"104","messages":"105","suppressedMessages":"106","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"107","messages":"108","suppressedMessages":"109","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"110","messages":"111","suppressedMessages":"112","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"113","messages":"114","suppressedMessages":"115","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"116","messages":"117","suppressedMessages":"118","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"119"},{"filePath":"120","messages":"121","suppressedMessages":"122","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"123","messages":"124","suppressedMessages":"125","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"126"},{"filePath":"127","messages":"128","suppressedMessages":"129","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"130","messages":"131","suppressedMessages":"132","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"133","messages":"134","suppressedMessages":"135","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\Pechenka\\pixel-app-ts\\client\\src\\index.tsx",[],[],["136","137"],"C:\\Users\\Pechenka\\pixel-app-ts\\client\\src\\App.tsx",[],[],"C:\\Users\\Pechenka\\pixel-app-ts\\client\\src\\context\\arts-context.tsx",[],[],["138","139"],"C:\\Users\\Pechenka\\pixel-app-ts\\client\\src\\components\\Main\\Main.tsx",[],[],"C:\\Users\\Pechenka\\pixel-app-ts\\client\\src\\components\\SettingsBar\\SettingsBar.tsx",[],[],"C:\\Users\\Pechenka\\pixel-app-ts\\client\\src\\components\\Arts\\Arts.tsx",[],[],"C:\\Users\\Pechenka\\pixel-app-ts\\client\\src\\components\\Board\\Board.tsx",[],[],"C:\\Users\\Pechenka\\pixel-app-ts\\client\\src\\components\\ColorsPanel\\ColorsPanel.tsx",[],[],"C:\\Users\\Pechenka\\pixel-app-ts\\client\\src\\components\\ToolsBar\\ToolsBar.tsx",[],[],"C:\\Users\\Pechenka\\pixel-app-ts\\client\\src\\hoc\\createArt.ts",[],[],"C:\\Users\\Pechenka\\pixel-app-ts\\client\\src\\components\\Arts\\Art\\Art.tsx",[],[],"C:\\Users\\Pechenka\\pixel-app-ts\\client\\src\\components\\SettingsBar\\SizeToggle\\SizeToggle.tsx",[],[],"C:\\Users\\Pechenka\\pixel-app-ts\\client\\src\\components\\SettingsBar\\Reset\\Reset.tsx",[],[],"C:\\Users\\Pechenka\\pixel-app-ts\\client\\src\\components\\SettingsBar\\PreviewAnimation\\PreviewAnimation.tsx",[],[],"C:\\Users\\Pechenka\\pixel-app-ts\\client\\src\\components\\ColorsPanel\\ColorPick\\ColorPick.tsx",[],[],"C:\\Users\\Pechenka\\pixel-app-ts\\client\\src\\components\\Board\\Pixel\\Pixel.tsx",[],[],"C:\\Users\\Pechenka\\pixel-app-ts\\client\\src\\components\\SimplePixel\\SimplePixel.tsx",[],[],"C:\\Users\\Pechenka\\pixel-app-ts\\client\\src\\components\\SaveImage\\SaveImage.tsx",["140","141"],[],"C:\\Users\\Pechenka\\pixel-app-ts\\client\\src\\components\\HistoryTriggers\\HistoryTriggers.tsx",[],[],"C:\\Users\\Pechenka\\pixel-app-ts\\client\\src\\components\\HistoryTriggers\\HistoryTrigger\\HistoryTrigger.tsx",[],[],"C:\\Users\\Pechenka\\pixel-app-ts\\client\\src\\components\\UploadImage\\UploadImage.tsx",["142"],[],"import {\r\n  FormEventHandler,\r\n  MouseEventHandler,\r\n  useContext,\r\n  useEffect,\r\n  useRef,\r\n  useState,\r\n} from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport { ArtsContext } from \"../../context/arts-context\";\r\nimport Button from \"../UI/Button/Button\";\r\nimport Modal from \"../UI/Modal/Modal\";\r\nimport classes from \"./UploadImage.module.css\";\r\nimport SizeToggle from \"../SettingsBar/SizeToggle/SizeToggle\";\r\n\r\nconst UploadImage = () => {\r\n  const { artsState, artsDispatch } = useContext(ArtsContext)!;\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [isSelected, setIsSelected] = useState(false);\r\n  const [file, setFile] = useState<null | string>(null);\r\n  const [imgIsValid, setImgIsValid] = useState(false);\r\n  const [newPixelSize, setNewPixelSize] = useState(1);\r\n  const [origSize, setOrigSize] = useState({ a: 0, b: 0 });\r\n  const [frameSize, setFrameSize] = useState({ a: 0, b: 0 });\r\n  const [imgData, setImgData] = useState<null | HTMLImageElement>(null);\r\n  const fileInpRef = useRef<null | HTMLInputElement>(null);\r\n  const imgRef = useRef<null | HTMLImageElement>(null);\r\n\r\n  useEffect(() => {}, [imgData]);\r\n\r\n  const onSubmitHandler: FormEventHandler = (e) => {\r\n    e.preventDefault();\r\n    const formData = new FormData(e.target as HTMLFormElement);\r\n    axios({\r\n      method: \"post\",\r\n      url: \"/upl-img\",\r\n      data: formData,\r\n      headers: { \"Content-Type\": \"multipart/form-data\" },\r\n    })\r\n      .then((data) => {\r\n        onCloseModal();\r\n        artsDispatch({\r\n          type: \"ADD_ART\",\r\n          data: { id: artsState.arts.length, rows: data.data },\r\n        });\r\n        artsDispatch({ type: \"SET_PS\", data: newPixelSize });\r\n      })\r\n      .catch((err) => {});\r\n  };\r\n\r\n  const onShowModal = () => {\r\n    setShowModal(true);\r\n  };\r\n\r\n  const onCloseModal = () => {\r\n    setShowModal(false);\r\n    setIsSelected(false);\r\n    setFile(null);\r\n  };\r\n\r\n  const onBrowseImg = () => {\r\n    fileInpRef.current!.click();\r\n    setIsSelected(true);\r\n  };\r\n\r\n  const validateSize = (s: number) => {\r\n    const width = imgRef.current?.offsetWidth!;\r\n    const height = imgRef.current?.offsetHeight!;\r\n    const frameWidth = width / s;\r\n    const frameHeight = height / s;\r\n    let valid = true;\r\n    valid = valid && width % s === 0;\r\n    valid = valid && height % s === 0;\r\n    setFrameSize({ a: frameWidth, b: frameHeight });\r\n    setImgIsValid(valid);\r\n  };\r\n\r\n  const onChosedFile = () => {\r\n    setFile(window.URL.createObjectURL(fileInpRef.current!.files![0]));\r\n    const img = document.createElement(\"img\");\r\n    img.src = window.URL.createObjectURL(fileInpRef.current!.files![0]);\r\n  };\r\n\r\n  const onAddPixelSize: MouseEventHandler = () => {\r\n    setNewPixelSize((prevPixelSize) => prevPixelSize + 1);\r\n    validateSize(newPixelSize + 1);\r\n  };\r\n\r\n  const onSubPixelSize: MouseEventHandler = () => {\r\n    setNewPixelSize((prevPixelSize) => prevPixelSize - 1 || 1);\r\n    validateSize(newPixelSize - 1 || 1);\r\n  };\r\n\r\n  const imgOnLoad: React.ReactEventHandler<HTMLImageElement> = (e) => {\r\n    if (!origSize.a || !origSize.b) {\r\n      setOrigSize({\r\n        a: (e.target as HTMLImageElement).width,\r\n        b: (e.target as HTMLImageElement).height,\r\n      });\r\n      validateSize(newPixelSize);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Button type=\"button\" clicked={onShowModal}>\r\n        LOAD\r\n      </Button>\r\n      {showModal && (\r\n        <Modal closed={onCloseModal}>\r\n          <button onClick={onBrowseImg} className={classes.BrowseButton}>\r\n            BROWSE...\r\n          </button>\r\n\r\n          <form\r\n            action=\"/upl-img\"\r\n            method=\"post\"\r\n            encType=\"multipart/form-data\"\r\n            onSubmit={onSubmitHandler}\r\n          >\r\n            <input\r\n              onChange={onChosedFile}\r\n              type=\"file\"\r\n              name=\"img\"\r\n              style={{ display: \"none\" }}\r\n              ref={fileInpRef}\r\n            />\r\n            {isSelected && file ? (\r\n              <>\r\n                <div className={classes.ImgContainer}>\r\n                  <img src={file} onLoad={imgOnLoad} alt=\"\" ref={imgRef} />\r\n                </div>\r\n                <div className={classes.LoadPlace}>\r\n                  <p style={{ textAlign: \"center\", marginBottom: \"10px\" }}>\r\n                    Original: {origSize.a} x {origSize.b}\r\n                  </p>\r\n                  <p style={{ textAlign: \"center\", marginBottom: \"10px\" }}>\r\n                    Frame Size:{\" \"}\r\n                    <span style={{ color: imgIsValid ? \"#000\" : \"red\" }}>\r\n                      {frameSize.a}\r\n                    </span>{\" \"}\r\n                    x{\" \"}\r\n                    <span style={{ color: imgIsValid ? \"#000\" : \"red\" }}>\r\n                      {frameSize.b}\r\n                    </span>\r\n                  </p>\r\n                  <div className={classes.Togglers}>\r\n                    <div className={classes.Toggler}>\r\n                      <p>Pixel Size</p>\r\n                      <SizeToggle\r\n                        del={onSubPixelSize}\r\n                        add={onAddPixelSize}\r\n                        cur={newPixelSize}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <button\r\n                  disabled={!imgIsValid}\r\n                  type=\"submit\"\r\n                  className={classes.UploadButton}\r\n                >\r\n                  UPLOAD\r\n                </button>\r\n                <input type=\"hidden\" name=\"ps\" value={newPixelSize} />\r\n                <input\r\n                  type=\"hidden\"\r\n                  value={artsState.settings.defColor}\r\n                  name=\"dc\"\r\n                />\r\n              </>\r\n            ) : null}\r\n          </form>\r\n        </Modal>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UploadImage;\r\n","C:\\Users\\Pechenka\\pixel-app-ts\\client\\src\\components\\UI\\Modal\\Modal.tsx",[],[],"C:\\Users\\Pechenka\\pixel-app-ts\\client\\src\\components\\UI\\Button\\Button.tsx",[],[],["143","144"],"C:\\Users\\Pechenka\\pixel-app-ts\\client\\src\\components\\ToolsBar\\Tool\\Tool.tsx",[],[],"C:\\Users\\Pechenka\\pixel-app-ts\\client\\src\\components\\SettingsBar\\Duration\\Duration.tsx",[],[],"C:\\Users\\Pechenka\\pixel-app-ts\\client\\src\\components\\SettingsBar\\PixelSize\\PixelSize.tsx",[],[],{"ruleId":"145","replacedBy":"146"},{"ruleId":"147","replacedBy":"148"},{"ruleId":"145","replacedBy":"149"},{"ruleId":"147","replacedBy":"150"},{"ruleId":"151","severity":1,"message":"152","line":4,"column":3,"nodeType":"153","messageId":"154","endLine":4,"endColumn":12},{"ruleId":"151","severity":1,"message":"155","line":5,"column":3,"nodeType":"153","messageId":"154","endLine":5,"endColumn":9},{"ruleId":"151","severity":1,"message":"156","line":26,"column":19,"nodeType":"153","messageId":"154","endLine":26,"endColumn":29},{"ruleId":"145","replacedBy":"157"},{"ruleId":"147","replacedBy":"158"},"no-native-reassign",["159"],"no-negated-in-lhs",["160"],["159"],["160"],"@typescript-eslint/no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","'useRef' is defined but never used.","'setImgData' is assigned a value but never used.",["159"],["160"],"no-global-assign","no-unsafe-negation"]